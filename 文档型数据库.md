#### 一些非常另类和离谱的写法此处不记录



where和match查询选中数组和嵌套对象：使用字符串点表示法；

`list: 20` 筛选list这个数组中包含20的所有记录。





#### 聚合

聚合查询和常规查询是两套不一样的查询方式，聚合查询需要先：

`collection.aggregate` 发起一个聚合流水线，然后进行若干聚合操作，最后使用`end()` 结束流水线。

聚合过程和正常的查询流差不多，每段的结果都是一个数据表，只不过聚合支持更多操作。

聚合操作使用独立的语法，如使用 `match` 而非 `where`，具体查阅文档。

最终 `end()` 的返回值包含一些状态和一个list成员，为结果列表

- 使用聚合操作符 `db.command.aggregate` 来进行操作
- `'$name'` 来引用当前数量表中的字段值



#### 权限

自定义的权限规则是按照执行者的

