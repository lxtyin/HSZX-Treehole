#### 前端基础知识

之前没接触过，浅记一下。

其中微信的 wxss 对应 css，wxml 对应 html



##### 样式

基本思路：使用特定语法表达UI“材质”，有作用域大的样式和作用域小的样式，小的优先级更高。

在 css 中指定作用对象（选择器）：

```css
.xxx			// 选取class = "xxx" 的元素
#xxx		    // 选取id = "xxx" 的元素
*				// 选取所有
xxx				// 选取标签类型为 xxx 的元素
[attr][attr=v]	// 选取含attr属性的，attr = v的

// 上述选择器只是对选择的元素本身设置样式，不会波及其子物体。

A, B			// 选取满足A或者B的元素
A B				// 选取A元素子元素中的B元素
A > B			// 选取A元素第一代子元素中的B元素
A+B				// 选择相邻的两个AB兄弟元素（同一级）
```

其他更多复杂写法可查阅文档

html中也可以内联样式，优先级最高

```css
<view style="color:red;"> ... </view>
```



##### CSS尺寸单位

- `px` 像素
- `rpx` 小程序特有，自适应屏幕宽度，宽始终为750rpx（小程序不管高度？（都要往下翻））
- `%` 百分比，通常是相对其父元素的百分比。
- `em` 一个当前字体尺寸



##### 盒子模型

所有html元素都可以看成一个盒子，包括这几层。

![](https://www.runoob.com/images/box-model.gif)

设置样式时可以对这几个部分设置。



##### 定位

在正常的文档流中，每个元素都会占据一块位置，依靠布局分配。

相对定位：如relative，它使元素在文档流中的占位不变，但偏移一定距离显示。

绝对定位：如fixed，absolute，它将元素从文档流中删除，不占据空间。fixed即直接参照屏幕坐标来显示，absolute即参照最近的一个**相对定位**的祖先来显示。



##### 页面布局

Flex布局：https://www.ruanyifeng.com/blog/2015/07/flex-grammar.html



#### JS

小程序支持用字符串方式设置嵌套成员的值：

```js
setData({
    'img[3].src': 'img/1.png'
})
```

云开发数据库查询中的 `where` 也可以这么用。



##### this

看你所在的函数，属于哪个对象，this就指哪个对象。

若函数不属于某个对象，this就指代全局对象。



#### 页面

每个页面的wxml和其相应js（page对象）是对应的，在wxml中可以直接使用 {{xxx}} 来引用相应page对象的data中的值。

绑定事件回调函数时也可以直接用函数名字符串指定 page 对象中的方法。

编译后的wxml实际上在最外层还有一个 `<page></page>` 标签，可以认为这个 js 的 page 对象就是它的上下文。在 wxss 中，选择器也可以直接用 `page` 来指示整个页面的样式。

页面生命周期函数会被自动调用，其中 `onLoad` 可以接受**打开参数**。



#### 组件

Component并不会像Page一样直接包在wxml内容的外面，但它有一个 `#shadow-root`（先放着）

在Component的wxml中一样可以直接用data中的值，可以绑定**methods**中的方法。组件被使用时可以像其他组件一样传属性值到properties中。

**不理解：**methods是一个对象，为什么在methods中，this还是指向Component？



##### 事件绑定

很方便地从组件向父Page传输信息。

组件可以调用 `this.triggerEvent(事件名, {value: 0});` 来触发一个事件，并传入一个对象作为参数。

在wxml中使用这个组件时，可以使用属性 `bind:事件名="函数名"` 来绑定一个Page中的函数，触发此事件时，该函数会被调用且有 `event` 参数，`event.detail` 组件中传入的对象。

